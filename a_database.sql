CREATE DATABASE IF NOT EXISTS `a_database` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;
USE `a_database`;

CREATE TABLE `cart` (
  `Order_ID` int(10) NOT NULL,
  `Product_ID` decimal(6,0) NOT NULL,
  `Size` char(1) NOT NULL,
  `Quantity` decimal(4,0) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `cart` (`Order_ID`, `Product_ID`, `Size`, `Quantity`) VALUES
(9, '400002', 'L', '4'),
(9, '400002', 'M', '5'),
(9, '400002', 'S', '1'),
(10, '400002', 'M', '1'),
(16, '400004', 'L', '1'),
(16, '400014', 'L', '1'),
(16, '400014', 'M', '5'),
(17, '400004', 'L', '1'),
(22, '400007', 'M', '5'),
(24, '400005', 'L', '2'),
(24, '400005', 'M', '4'),
(24, '400008', 'L', '3'),
(24, '400014', 'M', '1'),
(25, '300001', 'M', '4'),
(25, '300001', 'S', '3'),
(25, '300006', 'L', '5'),
(25, '300006', 'M', '5'),
(26, '400018', 'L', '1'),
(27, '100012', 'S', '5'),
(28, '100012', 'S', '5'),
(29, '100012', 'S', '5'),
(30, '100007', 'L', '1');

CREATE TABLE `customers` (
  `Customer_ID` int(6) NOT NULL,
  `First_Name` varchar(20) NOT NULL,
  `Last_Name` varchar(20) NOT NULL,
  `Email` varchar(40) NOT NULL,
  `Phone_Number` decimal(15,0) NOT NULL,
  `Address` varchar(200) NOT NULL,
  `Date_Of_Birth` date NOT NULL,
  `Gender` char(1) NOT NULL,
  `Username` varchar(20) NOT NULL,
  `Password` varchar(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `customers` (`Customer_ID`, `First_Name`, `Last_Name`, `Email`, `Phone_Number`, `Address`, `Date_Of_Birth`, `Gender`, `Username`, `Password`) VALUES
(1, 'Saadat', 'Rizvi', 'saa@adda.com', '3232', '23eedscxcx', '2016-04-17', 'm', 'saad', '123'),
(2, 'Raheel', 'Jameel', 'g', '435', 'gh', '2016-04-05', 'm', 'raheel', '123'),
(3, 'Usman', 'Abbasi', 'dsa', '876', '87687', '0000-00-00', 'm', 'usman', '123'),
(4, 'Sania', 'K', 'dflihds', '3243312', 'dsflhidsf', '1995-01-01', 'f', 'sania', '123'),
(5, 'Ali', 'Shah', 'vg@yhasa.com', '266551561', 'asdawdawd', '1992-03-12', 'f', 'ali', '123');

CREATE TABLE `orders` (
  `Order_ID` int(10) NOT NULL,
  `Customer_ID` int(6) DEFAULT NULL,
  `Status` char(1) NOT NULL,
  `Price` decimal(15,2) NOT NULL,
  `Order_Date` date DEFAULT NULL,
  `Delivery_Date` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `orders` (`Order_ID`, `Customer_ID`, `Status`, `Price`, `Order_Date`, `Delivery_Date`) VALUES
(6, 1, 'y', '52000.00', '2016-05-01', '2016-05-05'),
(8, 1, 'y', '24000.00', '2016-05-01', '2016-05-05'),
(9, 1, 'y', '80000.00', '2016-05-01', '2016-05-05'),
(10, 1, 'y', '8000.00', '2016-05-01', '2016-05-05'),
(11, 1, 'y', '30000.00', '2016-05-01', '2016-05-05'),
(12, 1, 'y', '18000.00', '2016-05-01', '2016-05-05'),
(13, 1, 'y', '12000.00', '2016-05-01', '2016-05-05'),
(14, 1, 'y', '73500.00', '2016-05-01', '2016-05-05'),
(15, 1, 'y', '8000.00', '2016-05-01', '2016-05-05'),
(16, 1, 'y', '10814.00', '2016-05-02', '2016-05-06'),
(17, 2, 'y', '18200.00', '2016-05-01', '2016-05-05'),
(18, 2, 'n', '0.00', NULL, NULL),
(19, 3, 'n', '700.00', NULL, NULL),
(20, 4, 'n', '0.00', NULL, NULL),
(21, 1, 'y', '6000.00', '2016-05-02', '2016-05-06'),
(22, 1, 'y', '2725.00', '2016-05-02', '2016-05-06'),
(23, 1, 'y', '10481.00', '2016-05-02', '2016-05-06'),
(24, 1, 'y', '7937.00', '2016-05-02', '2016-05-06'),
(25, 1, 'y', '47450.00', '2016-05-03', '2016-05-07'),
(26, 1, 'y', '8799.00', '2016-05-03', '2016-05-07'),
(27, 1, 'y', '1000.00', '2016-05-03', '2016-05-07'),
(28, 1, 'y', '1000.00', '2016-05-03', '2016-05-07'),
(29, 1, 'y', '1000.00', '2016-05-03', '2016-05-07'),
(30, 1, 'y', '545.00', '2016-05-03', '2016-05-07'),
(31, 1, 'n', '0.00', NULL, NULL);

CREATE TABLE `products` (
  `Product_ID` decimal(6,0) NOT NULL,
  `Name` varchar(40) NOT NULL,
  `Price` decimal(10,2) NOT NULL,
  `Category` char(1) NOT NULL,
  `Description` varchar(5000) NOT NULL,
  `Ratings` decimal(6,0) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `products` (`Product_ID`, `Name`, `Price`, `Category`, `Description`, `Ratings`) VALUES
('100001', 'Cotu Classic', '6000.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100002', 'Barricade 6.0', '8000.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100003', 'Suede Boots', '700.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100004', 'Veronique', '200.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100005', 'Athletic Shoe', '100.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100006', 'Minimus Zero', '545.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100007', 'Line Link 67009', '545.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '1'),
('100008', 'Nike Roshe Run', '799.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100009', 'Cotu Classic', '6000.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100010', 'Barricade 6.0', '8000.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100011', 'Suede Boots', '700.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100012', 'Veronique', '200.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '15'),
('100013', 'Athletic Shoe', '100.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100014', 'Minimus Zero', '545.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100015', 'Line Link 67009', '545.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('100016', 'Nike Roshe Run', '799.00', 'K', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300001', 'Cotu Classic', '6000.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '7'),
('300002', 'Barricade 6.0', '8000.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300003', 'Suede Boots', '700.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300004', 'Veronique', '200.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300005', 'Athletic Shoe', '100.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300006', 'Minimus Zero', '545.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '10'),
('300007', 'Line Link 67009', '545.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300008', 'Nike Roshe Run', '799.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300009', 'Cotu Classic', '6000.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300010', 'Barricade 6.0', '8000.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300011', 'Suede Boots', '700.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300012', 'Veronique', '200.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300013', 'Athletic Shoe', '100.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300014', 'Minimus Zero', '545.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300015', 'Line Link 67009', '545.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('300016', 'Nike Roshe Run', '799.00', 'W', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400001', 'Cotu Classic_1', '6000.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400002', 'Barricade 6.0_1', '8000.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400003', 'Suede Boots_1', '700.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400004', 'Veronique_1', '200.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '2'),
('400005', 'Athletic Shoe_1', '100.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '6'),
('400006', 'Minimus Zero_1', '545.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400007', 'Line Link 67009_1', '545.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '5'),
('400008', 'Nike Roshe Run_1', '799.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '3'),
('400009', 'Cotu Classic_1', '6000.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400010', 'Barricade 6.0_1', '8000.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400011', 'Suede Boots_1', '700.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400012', 'Veronique_1', '200.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400013', 'Athletic Shoe_1', '100.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400014', 'Minimus Zero_1', '545.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '7'),
('400015', 'Line Link 67009_1', '545.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400016', 'Nike Roshe Run_1', '799.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400017', 'Line Link 67009', '545.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '0'),
('400018', 'Nike Roshe Run', '799.00', 'M', 'Nike Roshe Run.<br><br>The New Experience!', '1');

CREATE TABLE `product_avail` (
  `Product_ID` decimal(6,0) NOT NULL,
  `Size` char(1) NOT NULL,
  `Quantity` decimal(4,0) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `product_avail` (`Product_ID`, `Size`, `Quantity`) VALUES
('100001', 'L', '9700'),
('100001', 'M', '9800'),
('100001', 'S', '1500'),
('100002', 'M', '2200'),
('100003', 'L', '500'),
('100003', 'S', '300'),
('100004', 'L', '300'),
('100004', 'M', '500'),
('100004', 'S', '9999'),
('100005', 'L', '9994'),
('100005', 'S', '299'),
('100006', 'L', '400'),
('100006', 'M', '300'),
('100007', 'L', '399'),
('100007', 'M', '700'),
('100007', 'S', '800'),
('100008', 'L', '793'),
('100008', 'S', '98'),
('100009', 'L', '2000'),
('100009', 'M', '3300'),
('100009', 'S', '1300'),
('100010', 'L', '1600'),
('100010', 'S', '1000'),
('100011', 'L', '500'),
('100011', 'M', '9999'),
('100012', 'S', '3185'),
('100013', 'L', '1600'),
('100013', 'M', '3200'),
('100014', 'L', '4197'),
('100014', 'M', '3195'),
('100014', 'S', '1095'),
('100015', 'L', '3600'),
('100015', 'M', '200'),
('100015', 'S', '2000'),
('100016', 'L', '1000'),
('100016', 'M', '1000'),
('300001', 'L', '9700'),
('300001', 'M', '9796'),
('300001', 'S', '1497'),
('300002', 'M', '2200'),
('300003', 'L', '500'),
('300003', 'S', '300'),
('300004', 'L', '300'),
('300004', 'M', '500'),
('300004', 'S', '9999'),
('300005', 'L', '9994'),
('300005', 'S', '299'),
('300006', 'L', '395'),
('300006', 'M', '295'),
('300007', 'L', '400'),
('300007', 'M', '700'),
('300007', 'S', '800'),
('300008', 'L', '793'),
('300008', 'S', '98'),
('300009', 'L', '2000'),
('300009', 'M', '3300'),
('300009', 'S', '1300'),
('300010', 'L', '1600'),
('300010', 'S', '3000'),
('300011', 'L', '500'),
('300011', 'M', '9999'),
('300012', 'S', '3200'),
('300013', 'L', '1600'),
('300013', 'M', '3200'),
('300014', 'L', '4197'),
('300014', 'M', '3195'),
('300014', 'S', '1095'),
('300015', 'L', '3600'),
('300015', 'M', '200'),
('300015', 'S', '2000'),
('300016', 'L', '3000'),
('300016', 'M', '3000'),
('400001', 'L', '600'),
('400001', 'M', '2000'),
('400001', 'S', '4000'),
('400002', 'L', '3200'),
('400002', 'M', '5100'),
('400002', 'S', '4200'),
('400003', 'L', '1000'),
('400003', 'M', '3000'),
('400004', 'L', '3300'),
('400005', 'L', '3198'),
('400005', 'M', '5496'),
('400005', 'S', '1000'),
('400006', 'M', '600'),
('400006', 'S', '1000'),
('400007', 'M', '295'),
('400007', 'S', '2000'),
('400008', 'L', '5197'),
('400008', 'S', '9999'),
('400009', 'M', '9999'),
('400010', 'L', '3300'),
('400011', 'L', '1100'),
('400011', 'M', '3000'),
('400011', 'S', '1300'),
('400012', 'S', '1500'),
('400013', 'L', '400'),
('400013', 'M', '3600'),
('400013', 'S', '4000'),
('400014', 'L', '6400'),
('400014', 'M', '9499'),
('400015', 'M', '9999'),
('400015', 'S', '5500'),
('400016', 'L', '3200'),
('400016', 'M', '200'),
('400016', 'S', '5200'),
('400017', 'L', '793'),
('400017', 'S', '98'),
('400018', 'L', '1999'),
('400018', 'M', '3300'),
('400018', 'S', '1300');

CREATE TABLE `product_images` (
  `Product_ID` decimal(6,0) NOT NULL,
  `Location` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `product_images` (`Product_ID`, `Location`) VALUES
('100001', 'images/b1.jpg'),
('100001', 'images/product-slide/kk1.jpg'),
('100002', 'images/b2.jpg'),
('100002', 'images/product-slide/kk2.jpg'),
('100003', 'images/b3.jpg'),
('100003', 'images/product-slide/kk3.jpg'),
('100004', 'images/b4.jpg'),
('100004', 'images/product-slide/kk4.jpg'),
('100005', 'images/b4.jpg'),
('100005', 'images/product-slide/kk5.jpg'),
('100006', 'images/b3.jpg'),
('100006', 'images/product-slide/kk6.jpg'),
('100007', 'images/b2.jpg'),
('100007', 'images/product-slide/kk7.jpg'),
('100008', 'images/b1.jpg'),
('100008', 'images/product-slide/kk8.jpg'),
('100009', 'images/b7.jpg'),
('100009', 'images/product-slide/kk9.jpg'),
('100010', 'images/b6.jpg'),
('100010', 'images/product-slide/kk10.jpg'),
('100011', 'images/b5.jpg'),
('100011', 'images/product-slide/kk11.jpg'),
('100012', 'images/b7.jpg'),
('100012', 'images/product-slide/kk12.jpg'),
('100013', 'images/b4.jpg'),
('100013', 'images/product-slide/kk13.jpg'),
('100014', 'images/b3.jpg'),
('100014', 'images/product-slide/kk14.jpg'),
('100015', 'images/b2.jpg'),
('100015', 'images/product-slide/kk15.jpg'),
('100016', 'images/b4.jpg'),
('100016', 'images/product-slide/kk16.jpg'),
('300001', 'images/b1.jpg'),
('300001', 'images/product-slide/ww1.jpg'),
('300002', 'images/b2.jpg'),
('300002', 'images/product-slide/ww2.jpg'),
('300003', 'images/b3.jpg'),
('300003', 'images/product-slide/ww3.jpg'),
('300004', 'images/b4.jpg'),
('300004', 'images/product-slide/ww4.jpg'),
('300005', 'images/b4.jpg'),
('300005', 'images/product-slide/ww5.jpg'),
('300006', 'images/b3.jpg'),
('300006', 'images/product-slide/ww6.jpg'),
('300007', 'images/b2.jpg'),
('300007', 'images/product-slide/ww7.jpg'),
('300008', 'images/b1.jpg'),
('300008', 'images/product-slide/ww8.jpg'),
('300009', 'images/b7.jpg'),
('300009', 'images/product-slide/ww9.jpg'),
('300010', 'images/b6.jpg'),
('300010', 'images/product-slide/ww10.jpg'),
('300011', 'images/b5.jpg'),
('300011', 'images/product-slide/ww11.jpg'),
('300012', 'images/b7.jpg'),
('300012', 'images/product-slide/ww12.jpg'),
('300013', 'images/b4.jpg'),
('300013', 'images/product-slide/ww13.jpg'),
('300014', 'images/b3.jpg'),
('300014', 'images/product-slide/ww14.jpg'),
('300015', 'images/b2.jpg'),
('300015', 'images/product-slide/ww15.jpg'),
('300016', 'images/b4.jpg'),
('300016', 'images/product-slide/ww16.jpg'),
('400001', 'images/b1.jpg'),
('400001', 'images/product-slide/mm1.jpg'),
('400002', 'images/b2.jpg'),
('400002', 'images/product-slide/mm2.jpg'),
('400003', 'images/b3.jpg'),
('400003', 'images/product-slide/mm3.jpg'),
('400004', 'images/b4.jpg'),
('400004', 'images/product-slide/mm4.jpg'),
('400005', 'images/b4.jpg'),
('400005', 'images/product-slide/mm5.jpg'),
('400006', 'images/b3.jpg'),
('400006', 'images/product-slide/mm6.jpg'),
('400007', 'images/b2.jpg'),
('400007', 'images/product-slide/mm7.jpg'),
('400008', 'images/b1.jpg'),
('400008', 'images/product-slide/mm8.jpg'),
('400009', 'images/b7.jpg'),
('400009', 'images/product-slide/mm9.jpg'),
('400010', 'images/b6.jpg'),
('400010', 'images/product-slide/mm10.jpg'),
('400011', 'images/b5.jpg'),
('400011', 'images/product-slide/mm11.jpg'),
('400012', 'images/b7.jpg'),
('400012', 'images/product-slide/mm12.jpg'),
('400013', 'images/b4.jpg'),
('400013', 'images/product-slide/mm13.jpg'),
('400014', 'images/b3.jpg'),
('400014', 'images/product-slide/mm14.jpg'),
('400015', 'images/b2.jpg'),
('400015', 'images/product-slide/mm15.jpg'),
('400016', 'images/b4.jpg'),
('400016', 'images/product-slide/mm16.jpg'),
('400017', 'images/b2.jpg'),
('400017', 'images/product-slide/mm17.png'),
('400018', 'images/b4.jpg'),
('400018', 'images/product-slide/mm18.png');


ALTER TABLE `cart`
  ADD PRIMARY KEY (`Order_ID`,`Product_ID`,`Size`),
  ADD KEY `Refer_Cart_To_Size` (`Product_ID`,`Size`);

ALTER TABLE `customers`
  ADD PRIMARY KEY (`Customer_ID`);

ALTER TABLE `orders`
  ADD PRIMARY KEY (`Order_ID`),
  ADD KEY `ORDERS_CUSTOMER_ID_INDEX` (`Customer_ID`);

ALTER TABLE `products`
  ADD PRIMARY KEY (`Product_ID`);

ALTER TABLE `product_avail`
  ADD PRIMARY KEY (`Product_ID`,`Size`);

ALTER TABLE `product_images`
  ADD PRIMARY KEY (`Product_ID`,`Location`);


ALTER TABLE `customers`
  MODIFY `Customer_ID` int(6) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;
ALTER TABLE `orders`
  MODIFY `Order_ID` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=32;

ALTER TABLE `cart`
  ADD CONSTRAINT `Refer_Cart_To_Size` FOREIGN KEY (`Product_ID`,`Size`) REFERENCES `product_avail` (`Product_ID`, `Size`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `Refer_Cart_To_orders` FOREIGN KEY (`Order_ID`) REFERENCES `orders` (`Order_ID`) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE `orders`
  ADD CONSTRAINT `REFER_ORDERS_TO_CUSTOMERS` FOREIGN KEY (`Customer_ID`) REFERENCES `customers` (`Customer_ID`) ON DELETE SET NULL ON UPDATE CASCADE;

ALTER TABLE `product_avail`
  ADD CONSTRAINT `Refer_Avail_To_Products` FOREIGN KEY (`Product_ID`) REFERENCES `products` (`Product_ID`) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE `product_images`
  ADD CONSTRAINT `Refer_Images_To_Products` FOREIGN KEY (`Product_ID`) REFERENCES `products` (`Product_ID`) ON DELETE CASCADE ON UPDATE CASCADE;